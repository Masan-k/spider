<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>SPIDER</title>
        <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <style>
          article, aside, dialog, figure, footer, header,
          hgroup, menu, nav, section { display: block; }
	  body{
	      width:1110px; /* 370*3 */
	      height:1980px; /* 660*3 */
	  }
       </style>
       
    </head>
    
    <body>
    <canvas id="cvsMain" width="1110px" height="1980px"></canvas>
    </body>
    <script>

var ctx = cvsMain.getContext('2d');
let sPosX = 200;
let sPosY = 200;

fillBack();
drawSpider(sPosX, sPosY);

cvsMain.addEventListener('touchmove', touchMove);

function touchMove(e){
    //moving = true;
    
    //ctx.clearRect(0, 0,cvsMain.width, cvsMain.height);
    //fillBack();
    clearSpider(sPosX, sPosY);
    
    mPosX = e.changedTouches[0].clientX - cvsMain.getBoundingClientRect().left;
    mPosY = e.changedTouches[0].clientY - cvsMain.getBoundingClientRect().top; 

    sPosX = sPosX + (mPosX-sPosX)/5
    sPosY = sPosY + (mPosY-sPosY)/5

    drawSpider(sPosX, sPosY);
    //console.log('mPosY -> ' + mPosY);

    e.preventDefault();
}

function drawSpider(x, y){
    ctx.beginPath();
    ctx.arc(x, y, 10, 0, Math.PI * 2, true); 
    ctx.fillStyle = '#734229';
    ctx.fill();

}
function clearSpider(x, y){
    ctx.beginPath();
    ctx.arc(x, y, 15, 0, Math.PI * 2, true); 
    ctx.fillStyle = '#ccc';
    ctx.fill();


}
function fillBack(){
    ctx.rect(0, 0 , cvsMain.width , cvsMain.height );
    console.log('cvsMain.width -> ' + cvsMain.width);
    console.log('cvsMain.height -> ' + cvsMain.height);

    ctx.fillStyle = '#ccc';
    ctx.fill();

}

    </script>

</html>
